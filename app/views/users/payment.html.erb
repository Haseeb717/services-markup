<div class="container">
  <div class="row">
    <div class="col-md-3">
      <ul class="sidebar-list">
        <li class="sidebar-item"><%= link_to "Payment Method", payment_method_path, class: "sidebar-link active" %></li>
        <li class="sidebar-item"><%= link_to "Payout Method", payout_method_path, class: "sidebar-link" %></li>
      </ul>
    </div>
    <div class="col-md-9">
      <div class="panel-body">
        <h2 class="mb-4 text-center">Card information</h2>
        <div class="card" style="margin-bottom: 20px"></div>
        <%= form_tag("/add_card", method: "post", id: "add-card") %>
          <div class="row form-group">
            <div class="col-md-8">
              <label>Credit Card Number</label>
              <input type="text" name="number" class="form-control">
            </div>
            <div class="col-md-4">
              <label>Expiration</label>
              <input type="text" placeholder="MM/YY" name="expiry" class="form-control">
            </div>                 
          </div>
          <div class="row form-group">
            <div class="col-md-8">
              <label>Name</label>
              <input type="text" name="name" class="form-control">
            </div>
            <div class="col-md-4">
              <label>CVV</label>
              <input type="text" name="cvv" class="form-control">
            </div>                 
          </div>
          <div class="mt-5">
            <%if current_user.stripe_id.blank? %>
              <button class="btn btn-primary btn-block">Add card</button>
            <%else%>
              <button class="btn btn-primary btn-block">Update card</button>
            <%end%>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://js.stripe.com/v3/"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script>
  $(function() {
    var card = new Card({
      form: '#add-card',
      container: '.card'
    })
  });
</script>
